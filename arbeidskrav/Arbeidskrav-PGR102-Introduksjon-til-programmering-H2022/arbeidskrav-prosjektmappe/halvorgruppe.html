<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landsbysimulator 2022</title>
    <!-- Du trenger ikke gjøre noe med CSS-koden! -->
    <link rel="stylesheet" href="css-skal-ikke-roeres/index.css">
</head>
<!--variabler
- document.getElementById
- if else
- function
- onclick
- template literal
- innerHTML
- Math.random()
- element.style
- for-løkk
-->

<body>

    <div id="container">     
        
        <div id="info-div">
            <div id="life-bar-box">
                <p id="life-bar">300hp</p><!-- Dette er selve livet (grønne baren). -->
            </div>

            <!-- Denne p-tagen inneholder informasjon om hvor mye tre og metall man har. -->
            <p id="material-info"></p>
        </div>


        <!-- Knappemenyen -->
        <div id="button-menu">
            <button id="buy-building-1-btn"><img src="images/building-1.png"><p>Kjøp (50 treverk, 10 metall)</p></button> 
            <button id="buy-building-2-btn"><img src="images/building-3.png"><p>Kjøp (150 treverk, 30 metall)</p></button>            
            <button id="buy-sword-btn"><img id="sword" src="images/sword.png"><p>Kjøp sverd (200 metall)</p></button>
        </div>        

        <img id="warrior-1" src="images/warrior.png">

        <!-- Her legger man til bilder av bygninger. -->
        <div id="building-div"></div>    
        <div id="building-div2"></div>




        <!-- Her legger man til monstre (cute-wolfman.png). -->

    <div id="monster-div"></div>
   

        <!-- Denne metallgruven skal man kunne klikke på for å få metall -->
        <img id="metal-mine" src="images/metal-mine.png">


        <!-- Disse trærne skal man kunne klikke på for å få treverk for å bygge hus. -->                
        <img id="tree-3" src="images/tree.png" alt="">
        <img id="tree-2" src="images/tree.png" alt="">
        <img id="tree-1" src="images/tree.png" alt="">
        
        
    </div><!-- end container-->
    
    
    <!-- Her skrives det ut informasjon om hva brukeren gjør og hva som skjer. -->
    <div id="output-div">
        <p>Her skal det skrives ut hva som skjer underveis i spillet. For eksempel "Hugget tre, fikk 20 treverkressurser", "Monster angriper og tar 10hp" osv. Man skal legge til += tekst for å utvide, men siste beskjed skal dukke opp øverst. </p>
    </div>
    <script>
        //Variabler til trærne:
        var tree1=document.getElementById("tree-1");
        var tree2=document.getElementById("tree-2");
        var tree3=document.getElementById("tree-3");
        var treeOneClick = 1;
        var treeLife = 10;
        var treeLifeTwo = 10;
        var treeTwoClick = 1;
        var treeLifeThree = 10;
        var treeThreeClick = 1;
        var wood = 0;
        //Variabler til materialinfo:
        var materialInfo  = document.getElementById("material-info");
        var buildings = 0;
        var strength= 10;
        var buildingDiv=document.getElementById("building-div");
        //Variabler til gruven:
        var metal = 0;
        var showBuyStrengthBtn = document.getElementById("buy-sword-btn");
        var swordPrice = 200;
        //Variabler til hus nr 1:
        var firstBuildingPriceWood= 50;
        var buyBuilding1Btn=document.getElementById("buy-building-1-btn");
        var firstBuildingPriceMetal= 10;
        //Variabler til hus nr 1:
        var buyBuilding2Btn=document.getElementById("buy-building-2-btn");
        var secondBuildingPriceWood= 150;
        var secondBuildingPriceMetal= 30;

        // variabler til monster
        var spawn
        var monster1Health= 40;
        var monster2Health= 40;
        var monster3Health= 40;
        var defultMonsterHealth= 40;


        
        // Variabler til monstrene og deres spawn rate
        var monsterArray
        // trenger vi denne når vi har en id på bildet av monsteret som heter monster?
        var monster
            
        var monsterDiv = document.getElementById("monster-div")
        var monsterDiv2 = document.getElementById("monster-div2")
        var monsterDiv3 = document.getElementById("monster-div3")
        
        
        // Her fikser vi ressurser

        function showMaterial(){
            materialInfo.innerHTML = `Treverk:${wood} enheter. Metall ${metal} enheter. Antall bygninger ${buildings}. Styrke ${strength}` ;
        };
        showMaterial();
        
      
        

        
        //Her aktiveres funksjonen til bygning nr 1.
        function addBuilding1(){
            if( wood >= firstBuildingPriceWood && metal >= firstBuildingPriceMetal ){
                metal = metal - firstBuildingPriceMetal; 
                wood = wood - firstBuildingPriceWood;
                buildingDiv.innerHTML += `<img src="images/building-1.png">`; 
                showMaterial(); 
            }else{
                alert("Beklager, Du har ikke nok enheter! Skaff mer tre og metall! ");
            }           
        };
        buyBuilding1Btn.onclick= addBuilding1;
        
        
        //Her aktiveres funksjonen til bygning nr 2.
     
        
        
        function addBuilding2(){
            if( wood >= secondBuildingPriceWood && metal >= secondBuildingPriceMetal ){
                metal = metal - secondBuildingPriceMetal; // Alternativ (forkortet) måte å skrive dette på: currency -= building2Price;
                wood = wood - secondBuildingPriceWood;
                buildingDiv.innerHTML += `<img src="images/building-3.png">`; // += betyr legg til, mens = betyr erstatt i denne konteksten
                showMaterial(); //Grensesnittet må oppdateres med ny currency, derfor kaller man på showCurrency-funksjonen på nytt
            }else{
                alert("Beklager, Du har ikke nok enheter! Skaff mer tre og metall! ");
            }           
    
        };
        buyBuilding2Btn.onclick= addBuilding2;
        
    
 
        // Her aktiveres det første treet.  

            function firstTree (){
            wood += 25;
            treeLife = treeLife - treeOneClick;
            if ( treeLife === 0 ) {
                document.getElementById("tree-1").style.visibility="hidden";
            };
            showMaterial();
        };
        tree1.onclick= firstTree;


        // Her aktiveres det andre treet.  


            function secondTree (){
            wood += 25;
            treeLifeTwo = treeLifeTwo - treeTwoClick;
            if ( treeLifeTwo === 0 ) {
                document.getElementById("tree-2").style.visibility="hidden";
            };
            showMaterial();
           
        };
        tree2.onclick= secondTree;

        // Her aktiveres det tredje treet 


            function thirdTree (){
            wood += 25;
            treeLifeThree = treeLifeThree - treeThreeClick;
            if ( treeLifeThree === 0 ) {
                document.getElementById("tree-3").style.visibility="hidden";
            };
            showMaterial();
            
        };
        tree3.onclick= thirdTree;


        // Her aktiveres gruven.
        var mine = document.getElementById("metal-mine");
        function mining(){
        metal += 10;
        showMaterial();
        };
        mine.onclick=mining;

        // Kjøp styrke
        function showBuyStrength(){
        if ( metal >= 200){
            metal = metal - swordPrice; 
            strength = 40;
            document.getElementById("buy-sword-btn").style.visibility = "hidden";
        } else {
            alert (`Beklager du har ${metal} metall. Du trenger 200.`)
        };
         showMaterial();
         
        };
         showBuyStrengthBtn.onclick = showBuyStrength;




     var counter = 0;
     var min = 5000;
     var max = 15000;
     var index = 0;


/*
     var monster1Liv = 40;
     var monster2Liv = 40;
     var monster3Liv = 40;
     
     var monster1btn= document.getElementById("monster-en-btn");
     var monster2btn = document.getElementById("monster-to-btn");
     var monster3btn = document.getElementById("monster-tre-btn")
     var monster1 = <img id=monster1 src="images/cute-wolfman.png">
     var monster2 = <img id=monster2 src="images/cute-wolfman.png">
     var monster3 = <img id=monster3 src="images/cute-wolfman.png">
     monster1btn.onclick=monster1;
     monster2btn.onclick=monster2;
     monster3btn.onclick=monster3;
    function monsterSpawn() {
 if ( monster >= 3){}
setTimeout(
function(){
    monsterDiv.innerHTML = `<img id=monster1 src="images/cute-wolfman.png">
    <img id=monster2 src="images/cute-wolfman.png">
    <img id=monster3 src="images/cute-wolfman.png">`;
}, 
2000
);
}
*/

var monsterDiv = document.getElementById("monster-div");
var monsterDivTo = document.getElementById("monster-div-to");
var monsterDivTre = document.getElementById("monster-div-tre");
var i = 0;
var monsterLiv= 40;
var monsterOne = document.getElementById("monster-1")

function monsterClick(){
    alert("funker")
}   

function monsterSpawn() {
    var random = Math.random()*10000
setTimeout(
    function(){
        monsterDiv.innerHTML += `<img id="monster1" src="images/cute-wolfman.png">`;
        var monster1 = document.getElementById("monster1")
        monster1.onclick = monsterClick;
            },
            random
            );
        }
monsterSpawn(); 
        
        

 
function monsterSpawnTo() {
setTimeout(
            function(){
                monsterDiv.innerHTML += `<img id="monster2" src="images/cute-wolfman.png">`
                ;
              

            },
            3000
            );
           
        }
    console.log(monsterSpawnTo)
    monsterSpawnTo();
       

function monsterSpawnTre() {
    setTimeout(
        function(){
            monsterDiv.innerHTML += `<img id="monster3" src="images/cute-wolfman.png">`;
        },
        4000
    );
}
    monsterSpawnTre();

    

</script>


</body>
</html>